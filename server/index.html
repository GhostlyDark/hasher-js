<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <h2>Hasher-js Test Page</h2>
    <p>See <tt>/src/index.js</tt> for the main hasher-js entry point and more info.</p>
    <input type='file' id='file'><br>
    <button id='btn-hash' style="margin-top: 10px">Hash</button>
    <div id="hasher-output" style="font-family: monospace; margin-top: 1em; white-space: pre;"></div>

    <script src='main.js'></script>
    <script>
        var output = document.getElementById('hasher-output');
        output.innerText += 'Output:\n\n'

        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('btn-hash').addEventListener('click', function() {
                var romFile = document.getElementById('file').files[0];
                hasher.getFileBytes(romFile).then(processRom);
            })
        }, false);

        function processRom(fileContents) {
            hasher.getRomData(fileContents)
                .then(function(result) {
                    output.innerText += JSON.stringify(result, null, 4);
                })
                .catch(console.error);
        }
    </script>
</body>
</html>